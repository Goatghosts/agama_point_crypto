from crypto_agama.agama_umbrel import Mempool

DEBUG = True

m = Mempool()
m.set_url_base("local")
print("start", m.url_base)

file_name = "data_input/block_0-1000.txt"


with open(file_name, "r") as f:
    lines = f.readlines()
    
for i, line in enumerate(lines):
    if i == 0:
        continue
    values = line.strip().split(";")
    block = values[0]
    data = m.get_block_info(block, False, False)
    print(i, data[0], data[1])
    txs = data[2]
    for i, tx in enumerate(txs):
        print(i, tx)


"""
--------------------------------------------------
class Mempool init
--------------------------------------------------
set_url_base --- > http://192.168.0.220:3006/api/
start http://192.168.0.220:3006/api/

[get_block_info]
[170] 00000000d1145790a8694403d4063f323d499e655c83426834d4ce2f8dd4a2ee 2009-01-12 04:30:25
1 2 2009-01-12 04:30:25
0 b1fea52486ce0c62bb442b530a3f0132b826c74e473d1f2c220bfa78111c5082
1 f4184fc596403b9d638783cf57adfe4c75c605f6356fbc91338530e9831e9e16

[get_block_info]
[181] 00000000dc55860c8a29c58d45209318fa9e9dc2c1833a7226d86bc465afc6e5 2009-01-12 07:02:13
2 2 2009-01-12 07:02:13
0 8347cee4a1cb5ad1bb0d92e86e6612dbf6cfc7649c9964f210d4069b426e720a
1 a16f3ce4dd5deb92d98ef5cf8afeaf0775ebca408f708b2146c4fb42b41e14be

...

[get_block_info]
[221] 0000000066356691a4353dd8bdc2c60da20d68ad34fff93d8839a133b2a6d42a 2009-01-12 15:21:00
6 2 2009-01-12 15:21:00
0 264e7238ddc574d5d6ded85d77bfcb69d99a0de17dfcdef0b7e97d430c4f202d
1 298ca2045d174f8a158961806ffc4ef96fad02d71a6b84d9fa0491813a776160

[get_block_info]
[248] 00000000fb5b44edc7a1aa105075564a179d65506e2bd25f55f1629251d0f6b0 2009-01-12 21:04:20
7 2 2009-01-12 21:04:20
0 cf7bddc54f693c94a852a93e80ce971358d47b478929772b60cd84a41e0b3451
1 828ef3b079f9c23829c56fe86e85b4a69d9e06e5b54ea597eef5fb3ffef509fe

[get_block_info]
[496] 00000000b0c5a240b2a61d2e75692224efd4cbecdf6eaf4cc2cf477ca7c270e7 2009-01-14 21:40:55
8 2 2009-01-14 21:40:55
0 77dfc2fe598419b00641c296181a96cf16943697f573480b023b77cce82ada21
1 a3b0e9e7cddbbe78270fa4182a7675ff00b92872d8df7d14265a2b1e379a9d33

[get_block_info]
[524] 00000000309014d78fc7440362c8ae0599e79557fe7bd0c94172dbc8c050ba5e 2009-01-15 02:46:26
9 2 2009-01-15 02:46:26
0 52c81ac33227ec10664ba42b9869fcbb2ba74310e7df9ea972780ac04357d029
1 d71fd2f64c0b34465b7518d240c00e83f6a5b10138a7079d1252858fe7e6b577

[get_block_info]
[545] 00000000689051c09ff2cd091cc4c22c10b965eb8db3ad5f032621cc36626175 2009-01-15 06:48:32
10 2 2009-01-15 06:48:32
0 c3dbd09da393e0f511c20d40bb61250f6f1e6415b80b294c0f8e3aa4c6e798db
1 35288d269cee1941eaebb2ea85e32b42cdb2b04284a56d8b14dcc3f5c65d6055

[get_block_info]
[546] 000000005a4ded781e667e06ceefafb71410b511fe0d5adc3e5a27ecbec34ae6 2009-01-15 07:08:20
11 4 2009-01-15 07:08:20
0 e980fe9f792d014e73b95203dc1335c5f9ce19ac537a419e6df5b47aecb93b70
1 28204cad1d7fc1d199e8ef4fa22f182de6258a3eaafe1bbe56ebdcacd3069a5f
2 6b0f8a73a56c04b519f1883e8aafda643ba61a30bd1439969df21bea5f4e27e2
3 3c1d7e82342158e4109df2e0b6348b6e84e403d8b4046d7007663ace63cddb23

[get_block_info]
[586] 000000000d0d23516c5efd3af4eb951603bb30b2c93884b522a318b30e918ee7 2009-01-15 15:25:20
12 3 2009-01-15 15:25:20
0 d45724bacd1480b0c94d363ebf59f844fb54e60cdfda0cd38ef67154e9d0bc43
1 4d6edbeb62735d45ff1565385a8b0045f066055c9425e21540ea7a8060f08bf2
2 6bf363548b08aa8761e278be802a2d84b8e40daefe8150f9af7dd7b65a0de49f

[get_block_info]
[593] 000000001d6a5eaa63b653d569e87179366ffee019ea4108f766e79578b5ebb2 2009-01-15 16:51:56
13 2 2009-01-15 16:51:56
0 8b3e3337952cbd2dac159723c972954efb02c05b9c583a081a1e11ed8e861ae4
1 e36f06a8dfe44c3d64be2d3fe56c77f91f6a39da4a5ffc086ecb5db9664e8583

...

[get_block_info]
[943] 00000000e9a0e6f8f08cc1ac6198e3ea633bce375316c3d593a6654ec7e08b2d 2009-01-18 21:02:59
16 2 2009-01-18 21:02:59
0 7fad6c73cf98d9d5d158a918504ec2ab72131bea0dc8b9c5b6ca397b7673bf5e
1 3e4cc1f71c998d080528ae305dffcc01419851e0d7b5191edfada9528625bff6

"""
